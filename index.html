<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AR World - Hackweek</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js"></script>
    <script src="https://unpkg.com/aframe-html-shader@0.2.0/dist/aframe-html-shader.min.js"></script>
    <script>
      AFRAME.registerComponent('scale-on-mouseenter', {
        schema: {
          to: {
            default: '2.5 2.5 2.5',
            type: 'vec3'
          }
        },
        init: function () {
          this.el.addEventListener('mouseenter', () => {
            this.el.object3D.scale.copy(this.data.to);
          });
        }
      });
    </script>
  </head>
  <body>
    <a-scene loading-screen="dotsColor: #fff; backgroundColor: #222">
      <a-assets>
        <img id="car" src="./images/bitly-logo.svg" />
        <img id="launchpad" src="./images/launchpad.png" />

        <video id="video" src="./videos/sample.mp4" preload></video>

        <audio
          id="audio"
          src="https://cdn.aframe.io/basic-guide/audio/backgroundnoise.wav"
          preload
        ></audio>

        <img id="bg" src="./images/lava-bg.jpg" />

        <img id="qrcode" src="./images/qr-code.png" />
        <img id="sky" src="./images/sechelt.jpg" />
        <img id="ground" src="./images/floor.jpg" />
      </a-assets>

      <a-camera>
        <a-cursor></a-cursor>
      </a-camera>

      <a-entity environment="preset: forest; dressingAmount: 500"></a-entity>

      <a-box
        src="#launchpad"
        position="0 2 -5"
        animation__position="property: object3D.position.y; to: 2.2; dir: alternate; dur: 2000; loop: true"
        animation__mouseenter="property: scale; to: 2.3 2.3 2.3; dur: 300; startEvents: mouseenter"
        animation__mouseleave="property: scale; to: 2 2 2; dur: 300; startEvents: mouseleave"
        scale-on-mouseenter
      >
        ></a-box
      >

      <a-box
        src="#qrcode"
        position="0 1 -3"
        animation__position="property: object3D.position.y; to: 0.5; dir: alternate; dur: 2000; loop: true"
        rotation="0 45 45"
        height="0.2"
        width="0.2"
        depth="0.2"
        scale-on-mouseenter
      >
        ></a-box
      >

      <a-video src="#video" width="4" height="2" position="0 0 -10"></a-video>
    </a-scene>
  </body>
</html>
